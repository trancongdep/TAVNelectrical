<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phi·∫øu Ki·ªÉm tra B·∫±ng M·∫Øt H·∫±ng tu·∫ßn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module">
        // Ch√∫ √Ω: ƒê√£ c·∫≠p nh·∫≠t SDK version t·ª´ 11.6.1 l√™n 12.6.0
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

        let db;
        let auth;
        let userId = null;
        
        // ===================================================================
        // C·∫§U H√åNH FIREBASE C·ª¶A B·∫†N (D√πng c·∫•u h√¨nh n√†y trong m·ªçi tr∆∞·ªùng h·ª£p local)
        // ===================================================================
        const LOCAL_FIREBASE_CONFIG = {
            apiKey: "AIzaSyDlm28JgaCe5mxUNCl5yFMWFiGu_8iyyns", 
            authDomain: "tavnelectrical.firebaseapp.com",
            projectId: "tavnelectrical",
            storageBucket: "tavnelectrical.firebasestorage.app",
            messagingSenderId: "12797987712",
            appId: "1:12797987712:web:8fb01d26dba96b83044f65" 
        };
        // ===================================================================

        // Global variables provided by the Canvas/Workspace environment
        const canvasAppId = typeof __app_id !== 'undefined' ? __app_id : LOCAL_FIREBASE_CONFIG.projectId;
        const canvasFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // ∆Øu ti√™n Canvas Config. N·∫øu kh√¥ng c√≥ (ch·∫°y local), s·ª≠ d·ª•ng Local Config.
        const firebaseConfig = canvasFirebaseConfig || LOCAL_FIREBASE_CONFIG;
        const appId = canvasAppId;

        /**
         * H√†m kh·ªüi t·∫°o Firebase v√† thi·∫øt l·∫≠p listener x√°c th·ª±c
         */
        async function initFirebase() {
            // Ki·ªÉm tra c·∫•u h√¨nh t·ªëi thi·ªÉu
            if (!firebaseConfig || !firebaseConfig.apiKey) {
                console.error("Firebase config is critically missing.");
                document.getElementById('status-message').textContent = "L·ªói: Kh√¥ng t√¨m th·∫•y c·∫•u h√¨nh Firebase.";
                return;
            }

            try {
                // Kh·ªüi t·∫°o ·ª©ng d·ª•ng Firebase
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                
                // S·ª≠ d·ª•ng x√°c th·ª±c Canvas (Custom Token / Anonymous)
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
                
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        
                        document.getElementById('checklist-container').classList.remove('hidden');
                        document.getElementById('user-info-display').textContent = `ƒê√£ k·∫øt n·ªëi. User ID: ${userId.substring(0, 8)}...`;
                        
                        // M·ªü kh√≥a √¥ nh·∫≠p t√™n v√† ƒë·∫∑t gi√° tr·ªã m·∫∑c ƒë·ªãnh
                        const inspectorNameInput = document.getElementById('inspector-name');
                        inspectorNameInput.removeAttribute('readonly'); 
                        if (!inspectorNameInput.value) {
                             inspectorNameInput.value = 'K·ªπ thu·∫≠t vi√™n TAVN'; 
                        }
                        
                        document.getElementById('status-message').textContent = "S·∫µn s√†ng nh·∫≠p li·ªáu v√† l∆∞u tr·ªØ.";
                        updateNonCompliantCount();
                    } else {
                         document.getElementById('user-info-display').textContent = `L·ªói x√°c th·ª±c. Vui l√≤ng th·ª≠ l·∫°i.`;
                    }
                });

            } catch (error) {
                console.error("Firebase initialization error:", error);
                // B√°o c√°o l·ªói chi ti·∫øt h∆°n
                document.getElementById('status-message').textContent = `L·ªói kh·ªüi t·∫°o: ${error.message}. Vui l√≤ng ki·ªÉm tra l·∫°i c·∫•u h√¨nh v√† ƒë·∫£m b·∫£o d·ªãch v·ª• Auth ƒë∆∞·ª£c b·∫≠t.`;
            }
            
            // Th√™m event listener cho vi·ªác ƒë·∫øm t·ª± ƒë·ªông
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', updateNonCompliantCount);
            });
        }

        /**
         * H√ÄM QUAN TR·ªåNG: C·∫≠p nh·∫≠t s·ªë m·ª•c "Kh√¥ng ƒê·∫°t" t·ª± ƒë·ªông
         */
        function updateNonCompliantCount() {
            let count = 0;
            document.querySelectorAll('input[type="radio"][value="Kh√¥ng ƒê·∫°t"]:checked').forEach(() => {
                count++;
            });
            document.getElementById('non-compliant-count').value = count;
        }

        /**
         * H√†m thu th·∫≠p d·ªØ li·ªáu t·ª´ bi·ªÉu m·∫´u
         */
        function collectChecklistData() {
            const checklistData = {};
            
            // 1. Thu th·∫≠p th√¥ng tin header
            checklistData.header = {
                date: document.getElementById('check-date').value,
                inspector: document.getElementById('inspector-name').value,
                machine: document.getElementById('machine-area').value,
                appId: appId,
                userId: userId,
                userName: document.getElementById('inspector-name').value || "Unknown",
                timestamp: new Date().toISOString()
            };

            // 2. Thu th·∫≠p d·ªØ li·ªáu ki·ªÉm tra chi ti·∫øt
            const sections = ['section1', 'section2', 'section3'];
            checklistData.checks = {};

            sections.forEach(sectionId => {
                const table = document.getElementById(sectionId);
                const rows = table.querySelectorAll('tbody tr');
                
                rows.forEach((row) => {
                    const rowId = row.querySelector('td:first-child').textContent.trim();
                    
                    const checkResult = {
                        status: null,
                        note: row.querySelector('input[type="text"]').value
                    };

                    const selectedRadio = row.querySelector(`input[name="check${rowId.replace('.', '_')}"]:checked`);
                    if (selectedRadio) {
                        checkResult.status = selectedRadio.value;
                    }

                    checklistData.checks[rowId] = checkResult;
                });
            });

            // 3. Thu th·∫≠p t√≥m t·∫Øt
            checklistData.summary = {
                nonCompliantCount: document.getElementById('non-compliant-count').value,
                urgentAction: document.getElementById('urgent-action').value 
            };

            return checklistData;
        }

        /**
         * H√†m l∆∞u d·ªØ li·ªáu l√™n Firestore
         */
        async function saveChecklist() {
            if (!db || !userId) {
                showToast("L·ªói: Kh√¥ng th·ªÉ k·∫øt n·ªëi Firebase ƒë·ªÉ l∆∞u d·ªØ li·ªáu. Vui l√≤ng ki·ªÉm tra c·∫•u h√¨nh.", 'bg-red-500');
                return;
            }
            
            if (!document.getElementById('inspector-name').value) {
                showToast("L·ªói: Vui l√≤ng nh·∫≠p t√™n ng∆∞·ªùi ki·ªÉm tra.", 'bg-yellow-600');
                document.getElementById('inspector-name').focus();
                return;
            }

            const saveButton = document.getElementById('save-button');
            const originalText = saveButton.textContent;
            saveButton.disabled = true;
            saveButton.textContent = "ƒêang l∆∞u...";

            try {
                const dataToSave = collectChecklistData();
                
                // ƒê∆∞·ªùng d·∫´n l∆∞u tr·ªØ private: /artifacts/{appId}/users/{userId}/checklists
                const collectionPath = `artifacts/${appId}/users/${userId}/checklists`;
                
                await addDoc(collection(db, collectionPath), dataToSave);

                showToast("L∆∞u phi·∫øu ki·ªÉm tra th√†nh c√¥ng!", 'bg-green-500');
                
            } catch (e) {
                console.error("L·ªói khi l∆∞u t√†i li·ªáu: ", e);
                showToast(`L·ªói l∆∞u: ${e.message}`, 'bg-red-500');
            } finally {
                saveButton.disabled = false;
                saveButton.textContent = originalText;
            }
        }

        /**
         * Hi·ªÉn th·ªã th√¥ng b√°o Toast
         */
        function showToast(message, colorClass) {
            const toast = document.getElementById('toast-message');
            toast.textContent = message;
            toast.className = `fixed bottom-5 right-5 p-4 rounded-lg text-white shadow-lg z-50 transition-opacity duration-300 ${colorClass}`;
            toast.style.opacity = '1';

            setTimeout(() => {
                toast.style.opacity = '0';
            }, 5000);
        }

        window.onload = initFirebase;
        window.saveChecklist = saveChecklist;
        window.updateNonCompliantCount = updateNonCompliantCount;
    </script>
    
    <style>
        /* Custom CSS */
        .input-text {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .header-info p {
            margin: 8px 0;
            font-size: 14px;
        }
        .section-title {
            background-color: #007bff;
            color: white;
            text-align: center;
            font-weight: bold;
            padding: 8px;
            margin-top: 15px;
            border-radius: 4px;
        }
        .checkbox-cell {
            text-align: center;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container bg-white p-8 rounded-xl shadow-2xl mt-10">
        <h2 class="text-2xl font-bold border-b-4 border-blue-600 pb-2 text-gray-800">
            üìã PHI·∫æU KI·ªÇM TRA B·∫∞NG M·∫ÆT H·∫∞NG TU·∫¶N
        </h2>
        
        <div class="flex justify-between items-center mb-4">
            <p id="user-info-display" class="text-sm text-gray-700 font-medium">ƒêang ki·ªÉm tra tr·∫°ng th√°i ƒëƒÉng nh·∫≠p...</p>
        </div>
        
        <p id="status-message" class="text-sm text-blue-600 mb-4 font-medium">ƒêang k·∫øt n·ªëi Firestore...</p>

        <div id="auth-section" class="flex flex-col items-center p-8 bg-red-100 border border-red-400 rounded-lg hidden">
        </div>

        <!-- PH·∫¶N CHECKLIST -->
        <div id="checklist-container" class="hidden">
            <div class="header-info grid grid-cols-2 gap-4 mb-6 p-4 border rounded-lg bg-blue-50">
                <p><strong>B·ªô ph·∫≠n:</strong> K·ªπ thu·∫≠t ƒêi·ªán & B·∫£o tr√¨</p>
                <p><strong>Ng√†y ki·ªÉm tra:</strong> <input type="date" id="check-date" class="input-text"></p>
                <p><strong>Ng∆∞·ªùi ki·ªÉm tra:</strong> <input type="text" id="inspector-name" class="input-text" readonly></p>
                <p><strong>Khu v·ª±c/M√°y:</strong> <input type="text" id="machine-area" class="input-text"></p>
            </div>

            <!-- B·∫£ng 1 -->
            <div class="section-title">I. T·ª¶ ƒêI·ªÜN (H·∫† TH·∫æ & ƒêI·ªÄU KHI·ªÇN)</div>
            <table id="section1" class="w-full border-collapse my-4">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="w-[5%]">STT</th>
                        <th class="w-[50%]">N·ªôi dung Ki·ªÉm tra (Visual Check)</th>
                        <th class="w-[15%] checkbox-cell">ƒê·∫°t</th>
                        <th class="w-[15%] checkbox-cell">Kh√¥ng ƒê·∫°t</th>
                        <th class="w-[15%]">Ghi ch√∫</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="hover:bg-gray-50">
                        <td>1.1</td>
                        <td>Ngo·∫°i quan V·ªè t·ªß: V·ªè t·ªß kh√¥ng b·ªã m√≥p, m√©o, g·ªâ s√©t.</td>
                        <td class="checkbox-cell"><input type="radio" name="check1_1" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check1_1" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>1.2</td>
                        <td>C·∫•p b·∫£o v·ªá (IP): Kh√≥a t·ªß ho·∫°t ƒë·ªông t·ªët, gioƒÉng c·ª≠a c√≤n nguy√™n v·∫πn, kh√¥ng c√≥ d·∫•u hi·ªáu ch·∫•t l·ªèng x√¢m nh·∫≠p.</td>
                        <td class="checkbox-cell"><input type="radio" name="check1_2" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check1_2" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>1.3</td>
                        <td>V·ªá sinh: Kh√¥ng c√≥ b·ª•i b·∫©n, c√¥n tr√πng l√†m t·ªï b√™n trong/b√™n ngo√†i t·ªß.</td>
                        <td class="checkbox-cell"><input type="radio" name="check1_3" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check1_3" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>1.4</td>
                        <td>Th√¥ng gi√≥: L∆∞·ªõi l·ªçc b·ª•i kh√¥ng b·ªã t·∫Øc ngh·∫Ωn. Qu·∫°t th√¥ng gi√≥ ho·∫°t ƒë·ªông.</td>
                        <td class="checkbox-cell"><input type="radio" name="check1_4" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check1_4" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>1.5</td>
                        <td>C√°p v√†o/ra: C√°p ƒë∆∞·ª£c c·ªë ƒë·ªãnh b·∫±ng ·ªëc si·∫øt c√°p, kh√¥ng b·ªã tr·∫ßy v·ªè.</td>
                        <td class="checkbox-cell"><input type="radio" name="check1_5" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check1_5" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>1.6</td>
                        <td>Nhi·ªát ƒë·ªô: Kh√¥ng c√≥ m√πi ch√°y kh√©t ho·∫∑c d·∫•u hi·ªáu ƒë·ªïi m√†u, bi·∫øn d·∫°ng do qu√° nhi·ªát.</td>
                        <td class="checkbox-cell"><input type="radio" name="check1_6" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check1_6" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                </tbody>
            </table>

            <!-- B·∫£ng 2 -->
            <div class="section-title">II. L·∫ÆP ƒê·∫∂T D√ÇY D·∫™N V√Ä THI·∫æT B·ªä</div>
            <table id="section2" class="w-full border-collapse my-4">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="w-[5%]">STT</th>
                        <th class="w-[50%]">N·ªôi dung Ki·ªÉm tra (Visual Check)</th>
                        <th class="w-[15%] checkbox-cell">ƒê·∫°t</th>
                        <th class="w-[15%] checkbox-cell">Kh√¥ng ƒê·∫°t</th>
                        <th class="w-[15%]">Ghi ch√∫</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="hover:bg-gray-50">
                        <td>2.1</td>
                        <td>Thi·∫øt b·ªã c·ªë ƒë·ªãnh: T·∫•t c·∫£ thi·∫øt b·ªã (CB, PLC, Contactor) ƒë∆∞·ª£c g·∫Øn ch·∫Øc ch·∫Øn (tr√™n Rail/Panel).</td>
                        <td class="checkbox-cell"><input type="radio" name="check2_1" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check2_1" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>2.2</td>
                        <td>ƒê·∫•u n·ªëi: ƒê·∫ßu c·ªët/c·∫ßu ƒë·∫•u kh√¥ng b·ªã bung, l·ªèng. Nh√£n in tr√™n ·ªëng l·ªìng quay ra ngo√†i v√† d·ªÖ ƒë·ªçc.</td>
                        <td class="checkbox-cell"><input type="radio" name="check2_2" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check2_2" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>2.3</td>
                        <td>M√£ m√†u: M√£ m√†u d√¢y d·∫´n (AC/DC) ƒë∆∞·ª£c duy tr√¨ ƒë·ªìng nh·∫•t v√† ch√≠nh x√°c.</td>
                        <td class="checkbox-cell"><input type="radio" name="check2_3" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check2_3" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>2.4</td>
                        <td>C√°p ƒë·ªông l·ª±c: V·ªè c√°p ƒë·ªông c∆° kh√¥ng b·ªã m√†i m√≤n, n·ª©t, ho·∫∑c c·ªç x√°t v√†o khung m√°y.</td>
                        <td class="checkbox-cell"><input type="radio" name="check2_4" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check2_4" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>2.5</td>
                        <td>C√°ch ly m·∫°ch: M·∫°ch ƒëi·ªÅu khi·ªÉn v√† m·∫°ch ƒë·ªông l·ª±c ƒë∆∞·ª£c gi·ªØ c√°ch ly (ki·ªÉm tra nhanh).</td>
                        <td class="checkbox-cell"><input type="radio" name="check2_5" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check2_5" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                </tbody>
            </table>

            <!-- B·∫£ng 3 -->
            <div class="section-title">III. H·∫† T·∫¶NG V√Ä AN TO√ÄN</div>
            <table id="section3" class="w-full border-collapse my-4">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="w-[5%]">STT</th>
                        <th class="w-[50%]">N·ªôi dung Ki·ªÉm tra (Visual Check)</th>
                        <th class="w-[15%] checkbox-cell">ƒê·∫°t</th>
                        <th class="w-[15%] checkbox-cell">Kh√¥ng ƒê·∫°t</th>
                        <th class="w-[15%]">Ghi ch√∫</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="hover:bg-gray-50">
                        <td>3.1</td>
                        <td>Thang M√°ng C√°p: M√°ng/Thang kh√¥ng b·ªã v√µng, c√°c ƒëo·∫°n n·ªëi kh√¥ng b·ªã so le.</td>
                        <td class="checkbox-cell"><input type="radio" name="check3_1" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check3_1" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>3.2</td>
                        <td>C√°p tr√™n M√°ng: C√°p ƒë∆∞·ª£c s·∫Øp x·∫øp g·ªçn g√†ng, kh√¥ng ch·ªìng ch√©o.</td>
                        <td class="checkbox-cell"><input type="radio" name="check3_2" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check3_2" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>3.3</td>
                        <td>N·ªëi ƒë·∫•t: D√¢y n·ªëi ƒë·∫•t (Xanh l√° s·ªçc v√†ng) tr√™n v·ªè t·ªß/m√°ng c√°p c√≤n nguy√™n v·∫πn, kh√¥ng b·ªã ƒë·ª©t.</td>
                        <td class="checkbox-cell"><input type="radio" name="check3_3" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check3_3" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td>3.4</td>
                        <td>Thi·∫øt b·ªã PCCC: B√¨nh ch·ªØa ch√°y g·∫ßn t·ªß ƒëi·ªán c√≤n ni√™m phong, c√≤n h·∫°n s·ª≠ d·ª•ng (ki·ªÉm tra nhanh).</td>
                        <td class="checkbox-cell"><input type="radio" name="check3_4" value="ƒê·∫°t"></td>
                        <td class="checkbox-cell"><input type="radio" name="check3_4" value="Kh√¥ng ƒê·∫°t"></td>
                        <td><input type="text" class="input-text"></td>
                    </tr>
                </tbody>
            </table>

            <div class="section-title">T√ìM T·∫ÆT V√Ä H√ÄNH ƒê·ªòNG KH·∫®N C·∫§P</div>
            <p class="text-red-600 font-semibold mt-3">
                <strong>C·∫£nh b√°o Nhi·ªát/Ch√°y:</strong> N·∫øu ph√°t hi·ªán m√πi kh√©t ho·∫∑c d·∫•u hi·ªáu ch√°y, ph·∫£i **ng·∫Øt ngu·ªìn ƒëi·ªán kh·∫©n c·∫•p** khu v·ª±c ƒë√≥ v√† b√°o c√°o ngay l·∫≠p t·ª©c.
            </p>
            <div class="mt-4 p-3 border rounded-lg bg-yellow-50">
                <p class="font-medium">
                    T·ªïng k·∫øt: S·ªë m·ª•c **Kh√¥ng ƒê·∫°t** c·∫ßn kh·∫Øc ph·ª•c: 
                    <input type="text" id="non-compliant-count" class="input-text inline-block w-1/4 bg-white font-bold text-red-600" readonly>
                </p>
                <label for="urgent-action" class="font-medium block mt-2">H√†nh ƒë·ªông kh·∫©n c·∫•p (n·∫øu c√≥):</label>
                <textarea id="urgent-action" class="input-text" rows="2"></textarea>
            </div>


            <div class="flex justify-center mt-8">
                <button id="save-button" onclick="saveChecklist()" 
                        class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition duration-150 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                    L∆∞u Phi·∫øu (Save Checklist)
                </button>
            </div>

            <div style="margin-top: 30px; display: flex; justify-content: space-between;" class="mt-12">
                <div class="text-center w-1/3">
                    <p class="font-bold">Ng∆∞·ªùi Ki·ªÉm tra</p>
                    <p class="mt-20 border-t border-gray-400 pt-1">(K√Ω v√† ghi r√µ h·ªç t√™n)</p>
                </div>
                <div class="text-center w-1/3">
                    <p class="font-bold">Qu·∫£n l√Ω B·∫£o tr√¨/K·ªπ s∆∞ ƒêi·ªán</p>
                    <p class="mt-20 border-t border-gray-400 pt-1">(K√Ω v√† ghi r√µ h·ªç t√™n)</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Message for status updates -->
    <div id="toast-message" class="fixed bottom-5 right-5 p-4 rounded-lg text-white shadow-lg z-50 opacity-0 transition-opacity duration-300">
    </div>
</body>
</html>